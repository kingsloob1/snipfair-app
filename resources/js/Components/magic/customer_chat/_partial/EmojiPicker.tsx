// import { Button } from '@/components/ui/button';
import {
    DropdownMenu,
    DropdownMenuContent,
    DropdownMenuTrigger,
} from '@/Components/ui/dropdown-menu';
import { SmileIcon } from 'lucide-react';
import * as React from 'react';

const emojis = [
    'ğŸ˜ƒ',
    'ğŸ˜„',
    'ğŸ˜',
    'ğŸ˜†',
    'ğŸ˜…',
    'ğŸ˜‚',
    'ğŸ¤£',
    'ğŸ˜Š',
    'ğŸ˜‡',
    'ğŸ™‚',
    'ğŸ™ƒ',
    'ğŸ˜‰',
    'ğŸ˜Œ',
    'ğŸ˜',
    'ğŸ¥°',
    'ğŸ˜˜',
    'ğŸ˜—',
    'ğŸ˜™',
    'ğŸ˜š',
    'ğŸ˜‹',
    'ğŸ˜›',
    'ğŸ˜',
    'ğŸ˜œ',
    'ğŸ¤ª',
    'ğŸ¤¨',
    'ğŸ§',
    'ğŸ¤“',
    'ğŸ˜',
    'ğŸ¥¸',
    'ğŸ˜',
    'ğŸ˜’',
    'ğŸ˜',
    'ğŸ˜”',
    'ğŸ˜Ÿ',
    'ğŸ˜•',
    'ğŸ™',
    'â˜¹ï¸',
    'ğŸ˜£',
    'ğŸ˜–',
    'ğŸ˜«',
    'ğŸ˜©',
    'ğŸ¥º',
    'ğŸ˜¢',
    'ğŸ˜­',
    'ğŸ˜¤',
    'ğŸ˜ ',
    'ğŸ˜¡',
    'ğŸ¤¬',
    'ğŸ¤¯',
    'ğŸ˜³',
    'ğŸ«£',
    'ğŸ˜±',
    'ğŸ˜¨',
    'ğŸ˜°',
    'ğŸ˜¥',
    'ğŸ˜“',
    'ğŸ¤—',
    'ğŸ¤”',
    'ğŸ¤­',
    'ğŸ¤«',
    'ğŸ¤¥',
    'ğŸ˜¶',
    'ğŸ˜',
    'ğŸ˜‘',
    'ğŸ˜¬',
    'ğŸ™„',
    'ğŸ˜¯',
    'ğŸ˜¦',
    'ğŸ˜§',
    'ğŸ˜®',
    'ğŸ˜²',
    'ğŸ¥±',
    'ğŸ˜´',
    'ğŸ¤¤',
    'ğŸ˜ª',
    'ğŸ˜µ',
    'ğŸ˜µâ€ğŸ’«',
    'ğŸ¤',
    'ğŸ¥´',
    'ğŸ¤¢',
    'ğŸ¤®',
    'ğŸ¤§',
    'ğŸ˜·',
    'ğŸ¤’',
    'ğŸ¤•',
    'ğŸ¤‘',
    'ğŸ¤ ',
    'ğŸ˜ˆ',
    'ğŸ‘¿',
    'ğŸ‘¹',
    'ğŸ‘º',
    'ğŸ’€',
    'â˜ ï¸',
    'ğŸ‘»',
    'ğŸ‘½',
    'ğŸ‘¾',
    'ğŸ¤–',
    'ğŸ˜º',
    'ğŸ˜¸',
    'ğŸ˜¹',
    'ğŸ˜»',
    'ğŸ˜¼',
    'ğŸ˜½',
    'ğŸ™€',
    'ğŸ˜¿',
    'ğŸ˜¾',
    'ğŸ‘‹',
    'ğŸ¤š',
    'ğŸ–',
    'âœ‹',
    'ğŸ––',
    'ğŸ‘Œ',
    'ğŸ¤Œ',
    'ğŸ¤',
    'âœŒï¸',
    'ğŸ¤',
    'ğŸ«°',
    'ğŸ¤Ÿ',
    'ğŸ¤˜',
    'ğŸ¤™',
    'ğŸ–•',
    'ğŸ‘ˆ',
    'ğŸ‘‰',
    'ğŸ‘†',
    'ğŸ–•',
    'ğŸ‘‡',
    'â˜ï¸',
    'ğŸ‘',
    'ğŸ‘',
    'âœŠ',
    'ğŸ‘Š',
    'ğŸ¤›',
    'ğŸ¤œ',
    'ğŸ‘',
    'ğŸ™Œ',
    'ğŸ«¶',
    'ğŸ‘',
    'ğŸ¤²',
    'ğŸ¤',
    'ğŸ™',
    'âœï¸',
    'ğŸ’…',
    'ğŸ¤³',
    'ğŸ’ª',
    'ğŸ¦¾',
    'ğŸ¦µ',
    'ğŸ¦¿',
    'ğŸ–•',
    'âœŒï¸',
    'ğŸ’”',
    'â¤ï¸',
    'ğŸ§¡',
    'ğŸ’›',
    'ğŸ’š',
    'ğŸ’™',
    'ğŸ’œ',
    'ğŸ¤',
    'ğŸ–¤',
    'ğŸ¤',
    'ğŸ’–',
    'ğŸ’—',
    'ğŸ’“',
    'ğŸ’',
    'ğŸ’˜',
    'ğŸ’',
    'ğŸ’Ÿ',
    'â£ï¸',
    'ğŸ’Œ',
    'ğŸ’¢',
    'ğŸ¶',
    'ğŸ±',
    'ğŸ­',
    'ğŸ¹',
    'ğŸ°',
    'ğŸ¦Š',
    'ğŸ»',
    'ğŸ¼',
    'ğŸ¨',
    'ğŸ¯',
    'ğŸ¦',
    'ğŸ®',
    'ğŸ·',
    'ğŸ¸',
    'ğŸµ',
    'ğŸ¦„',
    'ğŸ”',
    'ğŸ§',
    'ğŸ¦',
    'ğŸ¤',
    'ğŸ£',
    'ğŸ¥',
    'ğŸº',
    'ğŸ—',
    'ğŸ´',
    'ğŸ',
    'ğŸ›',
    'ğŸŒ',
    'ğŸ',
    'ğŸœ',
    'ğŸ¦‹',
    'ğŸ¦‚',
    'ğŸ¦€',
    'ğŸ¢',
    'ğŸ',
    'ğŸ¦',
    'ğŸ¦–',
    'ğŸ™',
    'ğŸ ',
    'ğŸŸ',
    'ğŸ¬',
    'ğŸ³',
    'ğŸ‹',
    'ğŸŠ',
    'ğŸ',
    'ğŸŠ',
    'ğŸŒ',
    'ğŸ‰',
    'ğŸ‡',
    'ğŸ“',
    'ğŸ«',
    'ğŸ’',
    'ğŸ‘',
    'ğŸ',
    'ğŸ¥­',
    'ğŸ¥¥',
    'ğŸ¥',
    'ğŸ…',
    'ğŸ«’',
    'ğŸ¥‘',
    'ğŸ†',
    'ğŸ¥”',
    'ğŸ¥•',
    'ğŸŒ½',
    'ğŸ«‘',
    'ğŸ¥’',
    'ğŸ§„',
    'ğŸ§…',
    'ğŸ„',
    'ğŸ¥œ',
    'ğŸŒ°',
    'ğŸ¥¯',
    'ğŸ',
    'ğŸ¥',
    'ğŸ¥–',
    'ğŸ§€',
    'ğŸ—',
    'ğŸ–',
    'ğŸ¥©',
    'ğŸ¥“',
    'ğŸ”',
    'ğŸŸ',
    'ğŸ•',
    'ğŸŒ­',
    'ğŸ¥ª',
    'ğŸŒ®',
    'ğŸŒ¯',
    'ğŸ¥™',
    'ğŸ§†',
    'ğŸ¥š',
    'ğŸ³',
    'ğŸ¥˜',
    'ğŸ¥—',
    'ğŸ',
    'ğŸœ',
    'ğŸ²',
    'ğŸ¥',
    'ğŸ¥ ',
    'ğŸ˜',
    'ğŸš',
    'ğŸ›',
    'ğŸ¤',
    'ğŸ¦',
    'ğŸ§',
    'ğŸ¨',
    'ğŸ©',
    'ğŸª',
    'ğŸ‚',
    'ğŸ°',
    'ğŸ§',
    'ğŸ«',
    'ğŸ¬',
    'ğŸ­',
    'ğŸ®',
    'ğŸ¯',
    'ğŸ¼',
    'ğŸ¥›',
    'â˜•',
    'ğŸµ',
    'ğŸ§ƒ',
    'ğŸ§‰',
    'ğŸ§Š',
    'ğŸ¥¤',
    'ğŸ¶',
    'ğŸº',
    'ğŸ»',
    'ğŸ¥‚',
    'ğŸ·',
    'ğŸ¥ƒ',
    'ğŸ¸',
    'ğŸ¹',
    'ğŸ§‹',
    'ğŸ«–',
    'ğŸƒ',
    'ğŸ„',
    'ğŸ†',
    'ğŸ‡',
    'ğŸ§¨',
    'âœ¨',
    'ğŸˆ',
    'ğŸ‰',
    'ğŸŠ',
    'ğŸ',
    'ğŸ€',
    'ğŸ«',
    'ğŸŸï¸',
    'ğŸ—ï¸',
    'ğŸ–ï¸',
    'ğŸ†',
    'ğŸ…',
    'ğŸ¥‡',
    'ğŸ¥ˆ',
    'ğŸ¥‰',
    'ğŸµï¸',
    'ğŸ”¥',
    'ğŸ’§',
    'ğŸ’¦',
    'ğŸŒŸ',
    'ğŸ’«',
    'ğŸ’¥',
    'ğŸ’£',
    'ğŸ’¨',
    'ğŸ•³ï¸',
    'ğŸ’¬',
    'ğŸ—¨ï¸',
    'ğŸ—¯ï¸',
    'ğŸ’­',
    'ğŸ’¤',
    'ğŸ•',
    'â°',
    'ğŸ“…',
    'ğŸ“†',
    'ğŸ“Œ',
    'ğŸ“',
    'ğŸ“',
    'ğŸ–‡ï¸',
    'ğŸ“',
    'ğŸ“',
    'âœï¸',
    'ğŸ–Šï¸',
    'ğŸ–‹ï¸',
    'ğŸ–Œï¸',
    'ğŸ–ï¸',
    'ğŸ“',
    'ğŸ“–',
    'ğŸ“š',
    'ğŸ”’',
    'ğŸ”“',
    'ğŸ”‘',
    'ğŸ—ï¸',
    'ğŸªª',
    'ğŸ›¡ï¸',
    'ğŸ”¨',
    'â›ï¸',
    'âš’ï¸',
    'ğŸ› ï¸',
    'ğŸ—¡ï¸',
    'âš”ï¸',
    'ğŸª“',
    'ğŸ”§',
    'ğŸ”©',
    'âš™ï¸',
    'ğŸ—œï¸',
    'âš–ï¸',
    'ğŸ”—',
    'ğŸ§°',
    'ğŸ§²',
    'ğŸ“¡',
    'â¤ï¸',
    'ğŸ§¡',
    'ğŸ’›',
    'ğŸ’š',
    'ğŸ’™',
    'ğŸ’œ',
    'ğŸ–¤',
    'ğŸ¤',
    'ğŸ¤',
    'â—',
    'â“',
    'â‰ï¸',
    'â•',
    'â”',
    'ğŸ”º',
    'ğŸ”»',
    'ğŸ”¸',
    'ğŸ”¹',
    'ğŸ”·',
    'ğŸ”¶',
    'âš«',
    'âšª',
    'â¬›',
    'â¬œ',
    'ğŸ”³',
    'ğŸ”²',
    'ğŸ”˜',
    'ğŸŸ ',
    'ğŸŸ¡',
    'ğŸŸ¢',
    'ğŸ”µ',
    'ğŸŸ£',
    'ğŸŸ¤',
    'âšª',
    'â—¼ï¸',
    'â—»ï¸',
    'ğŸ”¼',
    'ğŸ”½',
    'â¬†ï¸',
    'â¬‡ï¸',
    'â¬…ï¸',
    'â¡ï¸',
    'â†—ï¸',
    'â†˜ï¸',
    'â†™ï¸',
    'â†–ï¸',
    'â†”ï¸',
    'â†•ï¸',
];

interface ChildComponentProps {
    textAreaRef: React.RefObject<HTMLTextAreaElement>;
}

export function EmojiPicker({ textAreaRef }: ChildComponentProps) {
    const handleEmojiClick = (emoji: string) => {
        const textarea = textAreaRef.current;
        if (!textarea) return;

        const startPos = textarea.selectionStart;
        const endPos = textarea.selectionEnd;
        const text = textarea.value;

        // Insert emoji at cursor position
        const newText =
            text.substring(0, startPos) + emoji + text.substring(endPos);
        textarea.value = newText;

        // Update cursor position after inserted emoji
        const newCursorPos = startPos + emoji.length;
        textarea.setSelectionRange(newCursorPos, newCursorPos);
        textarea.focus();
    };

    return (
        <DropdownMenu>
            <DropdownMenuTrigger className="border-none focus:outline-none focus:ring-0 focus:ring-ring focus:ring-offset-0 focus-visible:outline-none focus-visible:ring-0 focus-visible:ring-ring focus-visible:ring-offset-0">
                <SmileIcon className="h-5 w-5 text-gray-600" />
            </DropdownMenuTrigger>
            <DropdownMenuContent
                side="top"
                align="start"
                sideOffset={8}
                className="slim-scrollbar max-h-72 max-w-sm p-2"
            >
                <div className="grid grid-cols-5 gap-2">
                    {emojis.map((emoji, index) => (
                        <button
                            key={index}
                            className="md:text-lg"
                            onClick={() => handleEmojiClick(emoji)}
                        >
                            {emoji}
                        </button>
                    ))}
                </div>
            </DropdownMenuContent>
        </DropdownMenu>
    );
}
