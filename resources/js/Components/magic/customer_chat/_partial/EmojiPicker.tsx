// import { Button } from '@/components/ui/button';
import {
    DropdownMenu,
    DropdownMenuContent,
    DropdownMenuTrigger,
} from '@/Components/ui/dropdown-menu';
import { SmileIcon } from 'lucide-react';
import * as React from 'react';

const emojis = [
    '😃',
    '😄',
    '😁',
    '😆',
    '😅',
    '😂',
    '🤣',
    '😊',
    '😇',
    '🙂',
    '🙃',
    '😉',
    '😌',
    '😍',
    '🥰',
    '😘',
    '😗',
    '😙',
    '😚',
    '😋',
    '😛',
    '😝',
    '😜',
    '🤪',
    '🤨',
    '🧐',
    '🤓',
    '😎',
    '🥸',
    '😏',
    '😒',
    '😞',
    '😔',
    '😟',
    '😕',
    '🙁',
    '☹️',
    '😣',
    '😖',
    '😫',
    '😩',
    '🥺',
    '😢',
    '😭',
    '😤',
    '😠',
    '😡',
    '🤬',
    '🤯',
    '😳',
    '🫣',
    '😱',
    '😨',
    '😰',
    '😥',
    '😓',
    '🤗',
    '🤔',
    '🤭',
    '🤫',
    '🤥',
    '😶',
    '😐',
    '😑',
    '😬',
    '🙄',
    '😯',
    '😦',
    '😧',
    '😮',
    '😲',
    '🥱',
    '😴',
    '🤤',
    '😪',
    '😵',
    '😵‍💫',
    '🤐',
    '🥴',
    '🤢',
    '🤮',
    '🤧',
    '😷',
    '🤒',
    '🤕',
    '🤑',
    '🤠',
    '😈',
    '👿',
    '👹',
    '👺',
    '💀',
    '☠️',
    '👻',
    '👽',
    '👾',
    '🤖',
    '😺',
    '😸',
    '😹',
    '😻',
    '😼',
    '😽',
    '🙀',
    '😿',
    '😾',
    '👋',
    '🤚',
    '🖐',
    '✋',
    '🖖',
    '👌',
    '🤌',
    '🤏',
    '✌️',
    '🤞',
    '🫰',
    '🤟',
    '🤘',
    '🤙',
    '🖕',
    '👈',
    '👉',
    '👆',
    '🖕',
    '👇',
    '☝️',
    '👍',
    '👎',
    '✊',
    '👊',
    '🤛',
    '🤜',
    '👏',
    '🙌',
    '🫶',
    '👐',
    '🤲',
    '🤝',
    '🙏',
    '✍️',
    '💅',
    '🤳',
    '💪',
    '🦾',
    '🦵',
    '🦿',
    '🖕',
    '✌️',
    '💔',
    '❤️',
    '🧡',
    '💛',
    '💚',
    '💙',
    '💜',
    '🤎',
    '🖤',
    '🤍',
    '💖',
    '💗',
    '💓',
    '💞',
    '💘',
    '💝',
    '💟',
    '❣️',
    '💌',
    '💢',
    '🐶',
    '🐱',
    '🐭',
    '🐹',
    '🐰',
    '🦊',
    '🐻',
    '🐼',
    '🐨',
    '🐯',
    '🦁',
    '🐮',
    '🐷',
    '🐸',
    '🐵',
    '🦄',
    '🐔',
    '🐧',
    '🐦',
    '🐤',
    '🐣',
    '🐥',
    '🐺',
    '🐗',
    '🐴',
    '🐝',
    '🐛',
    '🐌',
    '🐞',
    '🐜',
    '🦋',
    '🦂',
    '🦀',
    '🐢',
    '🐍',
    '🦎',
    '🦖',
    '🐙',
    '🐠',
    '🐟',
    '🐬',
    '🐳',
    '🐋',
    '🐊',
    '🍎',
    '🍊',
    '🍌',
    '🍉',
    '🍇',
    '🍓',
    '🫐',
    '🍒',
    '🍑',
    '🍍',
    '🥭',
    '🥥',
    '🥝',
    '🍅',
    '🫒',
    '🥑',
    '🍆',
    '🥔',
    '🥕',
    '🌽',
    '🫑',
    '🥒',
    '🧄',
    '🧅',
    '🍄',
    '🥜',
    '🌰',
    '🥯',
    '🍞',
    '🥐',
    '🥖',
    '🧀',
    '🍗',
    '🍖',
    '🥩',
    '🥓',
    '🍔',
    '🍟',
    '🍕',
    '🌭',
    '🥪',
    '🌮',
    '🌯',
    '🥙',
    '🧆',
    '🥚',
    '🍳',
    '🥘',
    '🥗',
    '🍝',
    '🍜',
    '🍲',
    '🍥',
    '🥠',
    '🍘',
    '🍚',
    '🍛',
    '🍤',
    '🍦',
    '🍧',
    '🍨',
    '🍩',
    '🍪',
    '🎂',
    '🍰',
    '🧁',
    '🍫',
    '🍬',
    '🍭',
    '🍮',
    '🍯',
    '🍼',
    '🥛',
    '☕',
    '🍵',
    '🧃',
    '🧉',
    '🧊',
    '🥤',
    '🍶',
    '🍺',
    '🍻',
    '🥂',
    '🍷',
    '🥃',
    '🍸',
    '🍹',
    '🧋',
    '🫖',
    '🎃',
    '🎄',
    '🎆',
    '🎇',
    '🧨',
    '✨',
    '🎈',
    '🎉',
    '🎊',
    '🎁',
    '🎀',
    '🎫',
    '🎟️',
    '🎗️',
    '🎖️',
    '🏆',
    '🏅',
    '🥇',
    '🥈',
    '🥉',
    '🏵️',
    '🔥',
    '💧',
    '💦',
    '🌟',
    '💫',
    '💥',
    '💣',
    '💨',
    '🕳️',
    '💬',
    '🗨️',
    '🗯️',
    '💭',
    '💤',
    '🕐',
    '⏰',
    '📅',
    '📆',
    '📌',
    '📍',
    '📎',
    '🖇️',
    '📏',
    '📐',
    '✏️',
    '🖊️',
    '🖋️',
    '🖌️',
    '🖍️',
    '📝',
    '📖',
    '📚',
    '🔒',
    '🔓',
    '🔑',
    '🗝️',
    '🪪',
    '🛡️',
    '🔨',
    '⛏️',
    '⚒️',
    '🛠️',
    '🗡️',
    '⚔️',
    '🪓',
    '🔧',
    '🔩',
    '⚙️',
    '🗜️',
    '⚖️',
    '🔗',
    '🧰',
    '🧲',
    '📡',
    '❤️',
    '🧡',
    '💛',
    '💚',
    '💙',
    '💜',
    '🖤',
    '🤍',
    '🤎',
    '❗',
    '❓',
    '⁉️',
    '❕',
    '❔',
    '🔺',
    '🔻',
    '🔸',
    '🔹',
    '🔷',
    '🔶',
    '⚫',
    '⚪',
    '⬛',
    '⬜',
    '🔳',
    '🔲',
    '🔘',
    '🟠',
    '🟡',
    '🟢',
    '🔵',
    '🟣',
    '🟤',
    '⚪',
    '◼️',
    '◻️',
    '🔼',
    '🔽',
    '⬆️',
    '⬇️',
    '⬅️',
    '➡️',
    '↗️',
    '↘️',
    '↙️',
    '↖️',
    '↔️',
    '↕️',
];

interface ChildComponentProps {
    textAreaRef: React.RefObject<HTMLTextAreaElement>;
}

export function EmojiPicker({ textAreaRef }: ChildComponentProps) {
    const handleEmojiClick = (emoji: string) => {
        const textarea = textAreaRef.current;
        if (!textarea) return;

        const startPos = textarea.selectionStart;
        const endPos = textarea.selectionEnd;
        const text = textarea.value;

        // Insert emoji at cursor position
        const newText =
            text.substring(0, startPos) + emoji + text.substring(endPos);
        textarea.value = newText;

        // Update cursor position after inserted emoji
        const newCursorPos = startPos + emoji.length;
        textarea.setSelectionRange(newCursorPos, newCursorPos);
        textarea.focus();
    };

    return (
        <DropdownMenu>
            <DropdownMenuTrigger className="border-none focus:outline-none focus:ring-0 focus:ring-ring focus:ring-offset-0 focus-visible:outline-none focus-visible:ring-0 focus-visible:ring-ring focus-visible:ring-offset-0">
                <SmileIcon className="h-5 w-5 text-gray-600" />
            </DropdownMenuTrigger>
            <DropdownMenuContent
                side="top"
                align="start"
                sideOffset={8}
                className="slim-scrollbar max-h-72 max-w-sm p-2"
            >
                <div className="grid grid-cols-5 gap-2">
                    {emojis.map((emoji, index) => (
                        <button
                            key={index}
                            className="md:text-lg"
                            onClick={() => handleEmojiClick(emoji)}
                        >
                            {emoji}
                        </button>
                    ))}
                </div>
            </DropdownMenuContent>
        </DropdownMenu>
    );
}
